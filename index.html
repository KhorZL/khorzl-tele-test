<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="MobileOptimized" content="176" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="robots" content="noindex,nofollow" />
    <title></title>
    <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
    <script>
        function setThemeClass() {
            document.documentElement.className = Telegram.WebApp.colorScheme;
        }
        Telegram.WebApp.onEvent('themeChanged', setThemeClass);
        setThemeClass();
    </script>
</head>

<body>
    <h1>Send Message to Telegram Bot</h1>
    <form id="messageForm">
        <label for="id">ID:</label>
        <input type="text" id="id" name="id" required><br><br>

        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required><br><br>

        <label for="content">Content:</label>
        <textarea id="content" name="content" required></textarea><br><br>

        <button type="submit">Send Message</button>

        <!-- Button to copy input data as JSON to clipboard -->
        <button type="button" id="copyJson">Copy as JSON</button>
    </form>

    <script>
        document.getElementById("messageForm").addEventListener("submit", function(event) {
            event.preventDefault();
            
            // Retrieve values from the form
            var id = document.getElementById("id").value;
            var title = document.getElementById("title").value;
            var content = document.getElementById("content").value;

            // You would need to implement the code to send the message to your Telegram bot here.
            // This typically involves making an HTTP request to the Telegram API using a server-side script.

            // Example JavaScript code to make an AJAX request to your server (not a complete implementation):
            // var xhr = new XMLHttpRequest();
            // xhr.open("POST", "your_server_script.php", true);
            // xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            // xhr.send(JSON.stringify({ id: id, title: title, content: content }));

            // Replace the above example with your server-side implementation.
        });

        // Function to copy input data as JSON to clipboard
        document.getElementById("copyJson").addEventListener("click", function() {
            var id = document.getElementById("id").value;
            var title = document.getElementById("title").value;
            var content = document.getElementById("content").value;

            var jsonData = {
                id: id,
                title: title,
                content: content
            };

            // Convert JSON object to a JSON-formatted string
            var jsonString = JSON.stringify(jsonData);

            // Create a textarea element to temporarily hold the JSON string
            var tempTextarea = document.createElement("textarea");
            tempTextarea.value = jsonString;

            // Append the textarea to the document
            document.body.appendChild(tempTextarea);

            // Select the text in the textarea
            tempTextarea.select();

            // Copy the selected text to the clipboard
            document.execCommand("copy");

            // Remove the temporary textarea
            document.body.removeChild(tempTextarea);

            alert("JSON data copied to clipboard.");
        });
    </script>
</body>
</html>
